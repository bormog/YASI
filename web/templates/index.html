{% extends "layout.html" %}
{% block left_column %}

<div class="row">
    <!-- Form Validation Error -->
    <div class="col-md-12">
        {% for message in get_flashed_messages() %}
        <div class="alert alert-danger">{{ message }}</div>
        {% endfor %}
    </div>

    <!-- Form -->
    <div class="col-md-12">
        <!-- SQL Input -->
        <h3>Write your SQL here or copy+paste from right column</h3>
        <form action="" method="post">
            <div class="form-group">
                    <textarea class="form-control" id="content"
                              name="content" placeholder=""
                              rows="10">{{ request.form['content'] or content }}</textarea>
            </div>
            <div class="form-group">
                <button class="btn btn-primary" type="submit">Submit</button>
            </div>
        </form>

    </div>

    <!-- Error & Results -->
    <div class="col-md-12">
        {% if error %}
        <h2>Error</h2>
        <div class="alert alert-danger">{{ error }}</div>
        {% endif %}

        {% if results %}
        <h2>Result</h2>
        <ul class="list-group list-group-flush">
            {% for result in results %}
            <li class="list-group-item"> >> {{ result }}</li>
            {% endfor %}
        </ul>
        {% endif %}
    </div>

</div>
{% endblock %}